{"version":3,"sources":["services/firebase.js","components/Header.js","components/Footer.js","pages/Home.js","pages/Chat.js","helper/auth.js","pages/Signup.js","pages/Login.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","auth","db","database","Header","className","style","zIndex","background","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","currentUser","onClick","signOut","Footer","Home","Chat","props","state","user","chats","content","readError","writeError","loadingChats","handleChange","bind","handleSubmit","myRef","React","createRef","a","this","setState","chatArea","current","ref","on","snapshot","forEach","snap","push","val","sort","b","timestamp","scrollBy","scrollHeight","error","message","event","target","value","preventDefault","Date","now","uid","d","getDate","getMonth","getFullYear","getHours","getMinutes","role","map","chat","formatTime","onSubmit","name","onChange","email","Component","signup","password","createUserWithEmailAndPassword","signin","signInWithEmailAndPassword","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","signInWithGitHub","GithubAuthProvider","SignUp","useState","setEmail","setPassword","setError","githubSignIn","googleSignIn","autoComplete","placeholder","e","Login","PrivateRoute","component","authenticated","rest","render","pathname","from","location","PublicRoute","App","setAuthenticated","loading","setLoading","useEffect","onAuthStateChanged","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.29f174cf.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nconst config = {\r\n  apiKey: \"AIzaSyCydzw3BRykkSMEI5Nh2MXjSF_VzIygRcA\",\r\n  authDomain: \"justalk-43797.firebaseapp.com\",\r\n  projectId: \"justalk-43797\",\r\n  storageBucket: \"justalk-43797.appspot.com\",\r\n  messagingSenderId: \"986737659328\",\r\n  appId: \"1:986737659328:web:ca92b26f3916cf82d84c25\",\r\n  databaseURL: \"https://justalk-43797-default-rtdb.firebaseio.com/\"\r\n}\r\n\r\nfirebase.initializeApp(config);\r\nexport const auth = firebase.auth;\r\nexport const db = firebase.database();","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { auth } from '../services/firebase';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header>\r\n      <nav className=\"navbar navbar-expand-sm fixed-top navbar-light\" style={{ zIndex: \"1\", background: \"rgba(46, 45, 43, 1)\" }}>\r\n        <Link className=\"navbar-brand\" to=\"/\">Justalk</Link>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse justify-content-end\" id=\"navbarNavAltMarkup\">\r\n          {auth().currentUser\r\n            ? <div className=\"navbar-nav\">\r\n              <button className=\"btn btn-primary mr-3\" onClick={() => auth().signOut()}>Logout</button>\r\n            </div>\r\n            : <div className=\"navbar-nav\">\r\n              <Link className=\"nav-item nav-link mr-3\" to=\"/login\">Sign In</Link>\r\n              <Link className=\"nav-item nav-link mr-3\" to=\"/signup\">Sign Up</Link>\r\n            </div>}\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"pt-5\">\r\n      <div className=\"container text-center\">\r\n        <p>&copy; Justalk 2021.</p>\r\n      </div>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React, { Component } from 'react';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Home() {\r\n  return (\r\n    <div className=\"home\">\r\n      <Header></Header>\r\n      <section>\r\n        <div className=\"jumbotron jumbotron-fluid py-5\">\r\n          <div className=\"container text-center py-5\">\r\n            <h1 className=\"display-4\">Welcome to Justalk</h1>\r\n            <p className=\"lead\">A great place to share your thoughts with friends</p>\r\n            <div className=\"mt-4\">\r\n              <Link className=\"btn btn-primary px-5 mr-3\" to=\"/signup\">Create New Account</Link>\r\n              <Link className=\"btn px-5\" to=\"/login\">Login to Your Account</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <Footer></Footer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;","import React, { Component } from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport { auth } from \"../services/firebase\";\r\nimport { db } from \"../services/firebase\";\r\n\r\nexport default class Chat extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: auth().currentUser,\r\n      chats: [],\r\n      content: '',\r\n      readError: null,\r\n      writeError: null,\r\n      loadingChats: false\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.myRef = React.createRef();\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ readError: null, loadingChats: true });\r\n    const chatArea = this.myRef.current;\r\n    try {\r\n      db.ref(\"chats\").on(\"value\", snapshot => {\r\n        let chats = [];\r\n        snapshot.forEach((snap) => {\r\n          chats.push(snap.val());\r\n        });\r\n        chats.sort(function (a, b) { return a.timestamp - b.timestamp })\r\n        this.setState({ chats });\r\n        chatArea.scrollBy(0, chatArea.scrollHeight);\r\n        this.setState({ loadingChats: false });\r\n      });\r\n    } catch (error) {\r\n      this.setState({ readError: error.message, loadingChats: false });\r\n    }\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      content: event.target.value\r\n    });\r\n  }\r\n\r\n  async handleSubmit(event) {\r\n    event.preventDefault();\r\n    this.setState({ writeError: null });\r\n    const chatArea = this.myRef.current;\r\n    try {\r\n      await db.ref(\"chats\").push({\r\n        content: this.state.content,\r\n        timestamp: Date.now(),\r\n        uid: this.state.user.uid\r\n      });\r\n      this.setState({ content: '' });\r\n      chatArea.scrollBy(0, chatArea.scrollHeight);\r\n    } catch (error) {\r\n      this.setState({ writeError: error.message });\r\n    }\r\n  }\r\n\r\n  formatTime(timestamp) {\r\n    const d = new Date(timestamp);\r\n    const time = `${d.getDate()}/${(d.getMonth()+1)}/${d.getFullYear()} ${d.getHours()}:${d.getMinutes()}`;\r\n    return time;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n\r\n        <div className=\"chat-area\" ref={this.myRef}>\r\n          {/* loading indicator */}\r\n          {this.state.loadingChats ? <div className=\"spinner-border text-success\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </div> : \"\"}\r\n          {/* chat area */}\r\n          {this.state.chats.map(chat => {\r\n            return <p key={chat.timestamp} className={\"chat-bubble \" + (this.state.user.uid === chat.uid ? \"current-user\" : \"\")}>\r\n              {chat.content}\r\n              <br />\r\n              <span className=\"chat-time float-right\">{this.formatTime(chat.timestamp)}</span>\r\n            </p>\r\n          })}\r\n        </div>\r\n        <form onSubmit={this.handleSubmit} className=\"mx-3\">\r\n          <textarea className=\"form-control\" name=\"content\" onChange={this.handleChange} value={this.state.content}></textarea>\r\n          {this.state.error ? <p className=\"text-danger\">{this.state.error}</p> : null}\r\n          <button type=\"submit\" className=\"btn btn-submit px-5 mt-4\">Send</button>\r\n        </form>\r\n        <div className=\"py-5 mx-3\">\r\n          Login in as: <strong className=\"text-info\">{this.state.user.email}</strong>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import { auth } from \"../services/firebase\";\r\n\r\nexport function signup(email, password) {\r\n  return auth().createUserWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signin(email, password) {\r\n  return auth().signInWithEmailAndPassword(email, password);\r\n}\r\n\r\nexport function signInWithGoogle() {\r\n  const provider = new auth.GoogleAuthProvider();\r\n  return auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function signInWithGitHub() {\r\n  const provider = new auth.GithubAuthProvider();\r\n  return auth().signInWithPopup(provider);\r\n}\r\n\r\nexport function logout() {\r\n  return auth().signOut();\r\n}","import React, { Component, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { signup, signInWithGoogle, signInWithGitHub } from '../helper/auth';\r\n\r\nfunction SignUp() {\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setError('');\r\n    try {\r\n      await signup(email, password);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  }\r\n\r\n  const githubSignIn = async (event) => {\r\n    try {\r\n      await signInWithGoogle();\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  }\r\n\r\n  const googleSignIn = async (event) => {\r\n    try {\r\n      await signInWithGitHub();\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form \r\n        className=\"mt-5 py-5 px-5\"\r\n        autoComplete=\"off\"\r\n        onSubmit={handleSubmit}>\r\n        <h1>\r\n          Sign Up to\r\n          <Link className=\"title ml-2\" to=\"/\">Justalk</Link>\r\n        </h1>\r\n        <p className=\"lead\">Fill in the form below to create an account.</p>\r\n        <div className=\"form-group\">\r\n          <input \r\n            className=\"form-control\"\r\n            placeholder=\"Email\" \r\n            name=\"email\" \r\n            type=\"email\" \r\n            onChange={e => setEmail(e.target.value)} \r\n            value={email}>\r\n          </input>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input \r\n            className=\"form-control\"\r\n            placeholder=\"Password\" \r\n            name=\"password\" \r\n            onChange={e => setPassword(e.target.value)} \r\n            value={password} \r\n            type=\"password\">\r\n          </input>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          {error ? <p>{error}</p> : null}\r\n          <button className=\"btn btn-primary px-5\" type=\"submit\">Sign up</button>\r\n        </div>\r\n        <p>You can also sign up with any of these services</p>\r\n        <button className=\"btn btn-danger mr-2\" type=\"button\" onClick={googleSignIn}>\r\n          Sign up with Google\r\n        </button>\r\n        <button className=\"btn btn-secondary\" type=\"button\" onClick={githubSignIn}>\r\n          Sign up with GitHub\r\n        </button>\r\n        <hr></hr>\r\n        <p>Already have an account? <Link to=\"/login\">Login</Link></p>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp;","import React, { Component, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signin, signInWithGoogle, signInWithGitHub } from \"../helper/auth\";\r\n\r\nfunction Login() {\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setError('');\r\n    try {\r\n      await signin(email, password);\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  }\r\n\r\n  const githubSignIn = async (event) => {\r\n    try {\r\n      await signInWithGitHub();\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  }\r\n\r\n  const googleSignIn = async (event) => {\r\n    try {\r\n      await signInWithGoogle();\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <form\r\n        className=\"mt-5 py-5 px-5\"\r\n        autoComplete=\"off\"\r\n        onSubmit={handleSubmit}>\r\n        <h1>\r\n          Login to\r\n          <Link className=\"title ml-2\" to=\"/\">Justalk</Link>\r\n        </h1>\r\n        <p className=\"lead\">\r\n          Fill in the form below to login to your account.\r\n        </p>\r\n        <div className=\"form-group\">\r\n          <input\r\n            className=\"form-control\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            onChange={e => setEmail(e.target.value)} \r\n            value={email}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            onChange={e => setPassword(e.target.value)} \r\n            value={password}\r\n            type=\"password\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          {error ? ( <p className=\"text-danger\">{error}</p> ) : null}\r\n          <button className=\"btn btn-primary px-5\" type=\"submit\">Login</button>\r\n        </div>\r\n        <p>You can also log in with any of these services</p>\r\n        <button className=\"btn btn-danger mr-2\" type=\"button\" onClick={googleSignIn}>\r\n          Sign in with Google\r\n        </button>\r\n        <button className=\"btn btn-secondary\" type=\"button\" onClick={githubSignIn}>\r\n          Sign in with GitHub\r\n        </button>\r\n        <hr />\r\n        <p>\r\n          Don't have an account? <Link to=\"/signup\">Sign up</Link>\r\n        </p>\r\n      </form>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login","import React, { Component, useEffect, useState } from 'react';\nimport {\n  Route,\n  BrowserRouter as Router,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\nimport Home from './pages/Home';\nimport Chat from './pages/Chat';\nimport SignUp from './pages/Signup';\nimport Login from './pages/Login';\nimport { auth } from './services/firebase';\nimport './App.css';\n\nfunction PrivateRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={\n        (props) => authenticated === true\n          ? <Component {...props} />\n          : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n      }\n    />\n  )\n}\n\nfunction PublicRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route \n      {...rest}\n      render={\n        (props) => authenticated === true\n         ? <Redirect to='/chat' />\n         : <Component {...props} />\n      }\n    />\n  )\n}\n\nfunction App() {\n  const [authenticated, setAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    auth().onAuthStateChanged(user => {\n      if (user) {\n        setAuthenticated(true);\n        setLoading(false);\n      }\n      else {\n        setAuthenticated(false);\n        setLoading(false);\n      }\n    })\n  });\n\n  return loading === true ? <h2>Loading...</h2> : (\n    <Router>\n      <Switch>\n        <Route \n          exact \n          path=\"/\" \n          component={Home}>\n        </Route>\n        \n        <PrivateRoute \n          path=\"/chat\" \n          authenticated={authenticated} \n          component={Chat}>\n        </PrivateRoute>\n\n        <PublicRoute \n          path=\"/signup\" \n          authenticated={authenticated} \n          component={SignUp}>\n        </PublicRoute>\n\n        <PublicRoute \n          path=\"/login\" \n          authenticated={authenticated} \n          component={Login}>\n        </PublicRoute>\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}